<!doctype html>
<html lang="en">
  <head>
    <!-- FontAwesome -->
    <script src="https://kit.fontawesome.com/8eb1bbd4d4.js" crossorigin="anonymous"></script>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSS Stylsheet -->
    <link rel = "stylesheet" type = "text/css" href = "profilepage.css" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <title>Intellect Profile Page</title>
  </head>
  <body onerror="autherror()">

    <!-- Navbar, 4 options to choose from, 2 of them are main web app functions that will have more within them -->
    <nav class="navbar fixed-top navbar-expand-sm bg-dark navbar-dark" style="position:fixed;width:100%;opacity:95%">
        <div class="container-fluid">
          <a class="navbar-brand" href="/homepage/homepage.html" style="color: #b3b3b3">Intellect <img src="img/iconlight.png" width="40px"></a>
          <!-- If screen is small enough, make the options on navbar a button  -->
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainNav">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-sm-end" id="mainNav">
            <div class="navbar-nav">
              <a class="nav-item nav-link split" href="/jokepage/jokepage.html"><i class="fab fa-buffer"></i>Jokes</a>
              <a class="nav-item nav-link split" href=""><span id="navprof"></span></i>Profile</a>
              <a class="nav-item nav-link" href="/logoutpage/logoutpage.html">Logout</a>
            </div>
          </div>
        </div>
      </nav>


    <!-- Profile options to change and edit profile -->
    <div class="container-fluid" style="padding-left:50px;padding-right:50px;padding-top: 75px;">
      <div class="row">
        <div class="col distance">
          <div class="subtitle-box h1 text-muted">Profile</div>
          <div id="errmessagejumbo" class="text-danger text-center"></div><br>
          <div class="progress">
            <div class="progress-bar bg-warning" role="progressbar" style="width: 85%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
          </div>
          <br>
             <div class="jumbotron">
              <h2>Personal Info</h2>
                <div class="flex-box">
                    <div class="card" style="width: 18rem;">
                        <div class="card-body">
                        <h5 class="card-title">Username</h5>
                        <div id="username" class="card-text"></div><br>
                        <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#changeUsername">
                          Change
                        </button>
                        </div>
                    </div>
                    <br>
                    <div class="card" style="width: 18rem;">
                      <div class="card-body">
                      <h5 class="card-title">Email</h5>
                      <div id="email" class="card-text"></div><br>
                      <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#changeEmail">
                        Change
                      </button>
                      </div>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>
<!--BEGINNING OF PROFILE BUTTON FUNCTIONS-->
    <!--Username-->
    <div class="modal fade" id="changeUsername" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Change Username</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="reset()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!--Inside of Username Modal-->
            <form id="change-username-modal">
              <div class="form-group">
                <label for="exampleInputUsername1">Username</label>
                <input type="username" class="form-control" id="usernamechange1" aria-describedby="UsernameHelp" placeholder="Enter New Username">
              </div>
              <div class="form-group">
                <label for="exampleInputUsername1">Confirm Username</label>
                <input type="username" class="form-control" id="usernamechange2" aria-describedby="UsernameHelp" placeholder="Enter New Username">
              </div>
              <div id="successmessage" class="text-success text-center"></div>
              <div id="errmessage" class="text-danger text-center"></div><br>
              <div class="modal-footer">
                <button type="submit" class="btn btn-warning">Save changes</button>
              </div>
            </form>
            <!-- END Inside of Username Modal -->
          </div>
        </div>
      </div>
    </div>
    <!--Email-->
    <div class="modal fade" id="changeEmail" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Change Email</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="reset()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!--Inside of Email Modal-->
            <form id="change-email-modal">
              <div class="form-group">
                <label for="exampleInputEmail1">Email</label>
                <input type="email" class="form-control" id="email1" aria-describedby="emailHelp" placeholder="Enter New Email">
              </div>
              <div class="form-group">
                <label for="exampleInputEmail1">Confirm Email</label>
                <input type="email" class="form-control" id="email2" aria-describedby="emailHelp" placeholder="Enter New Email">
              </div>
              <div class="form-group">
                <label for="exampleInputEmail1">Confirm Changes By Inputting Password</label><br>
                <p class="text-muted" style="margin-bottom: 0px; margin-top: -10px;">*Not needed if recently signed in</p>
                <input type="password" class="form-control" id="password" aria-describedby="emailHelp" placeholder="Confirm Password">
              </div>
              <div id="successmessage2" class="text-success text-center"></div>
              <div id="errmessage2" class="text-danger text-center"></div><br>
              <div class="modal-footer">
                <button type="submit" class="btn btn-warning">Save changes</button>
              </div>
            </form>
            <!--END Inside of Email Modal-->
          </div>
        </div>
      </div>
    </div>
<!-- END OF BUTTON FUNCTIONS-->

    <!-- Profile options to change and edit profile, Second Jumbo -->
    <div class="container-fluid" style="padding-left:50px;padding-right:50px;">
      <div class="row">
        <div class="col distance">
             <div class="jumbotron">
              <h2>Preferences</h2>
                <div class="flex-box">
                    <div class="card" style="width: 18rem;">
                      <div class="card-body">
                        <h5 class="card-title">Select A Profile Pic</h5>
                        <div id="profilepic"></div>
                        <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#selectPic">
                          Select
                        </button>
                        </div>
                    </div>
                    <div class="card" style="width: 18rem;">
                      <div class="card-body">
                        <h5 class="card-title">Joke Preferences</h5>
                        <div id="preferences"></div><br>
                        <button type="button" class="btn btn-dark" data-toggle="modal" data-target="#selectFavs">
                          Select
                        </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>
<!--BEGINNING OF PROFILE BUTTON FUNCTIONS-->
    <!--Profile pics-->
    <div class="modal fade" id="selectPic" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Select A Profile Picture</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="reset()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!--Inside of Profile pic Modal-->
            <form id="selectProfile">
              <div class="form-group">
                <label>Select Profile Pic</label>
                <select class="form-control" id="pics"> 
                  <option value="null">Select...</option>
                  <option value="black.png">Black</option>
                  <option value="blue.png">Blue</option>
                  <option value="green.png">Green</option>
                  <option value="orange.png">Orange</option>
                  <option value="red.png">Red</option>
                  <option value="yellow.png">Yellow</option>
                  <option value="violet.png">Violet</option>
                  <option value="grey.png">Grey</option>
                  <option value="pink.png">Pink</option>
                  <option value="indigo.png">Indigo</option>
                  <option value="blacksmile.png">Black Smile</option>
                  <option value="bluesmile.png">Blue Smile</option>
                  <option value="greensmile.png">Green Smile</option>
                  <option value="redsmile.png">Red Smile</option>
                  <option value="yellowsmile.png">Yellow Smile</option>
                  <option value="violetsmile.png">Violet Smile</option>
                  <option value="greysmile.png">Grey Smile</option>
                  <option value="pinksmile.png">Pink Smile</option>
                  <option value="indigosmile.png">Indigo Smile</option>
                </select> 
                <br><div id="example" class="d-flex justify-content-center"></div>
              </div>  
              <div id="successmessage4" class="text-success text-center"></div>
              <div id="errmessage4" class="text-danger text-center"></div><br>
              <div class="modal-footer">
                <button type="submit" class="btn btn-warning">Save changes</button>
              </div>
            </form>
            <!--END Inside of Profile pic Modal-->
          </div>
        </div>
      </div>
    </div>
    <!-- Preferences -->
    <div class="modal fade" id="selectFavs" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Select A Joke Preferences</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close" onclick="reset()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <!--Inside of pref pic Modal-->
            <form id="selectPref">
              <div class="form-group">
                <label>Select First Preference</label>
                <select class="form-control" id="pref1"> 
                  <option value="Select Category of Joke (Select This Option For All Jokes)">Select Category of Joke (Select This Option For All Jokes)</option>
                  <option>Business</option>
                  <option>College</option>
                  <option>Computer</option>
                  <option>Dad Jokes</option>
                  <option>Dark</option>
                  <option>Dumbass</option>
                  <option>Doctor</option>
                  <option>Entertainment</option>
                  <option>Law</option>
                  <option>Knock Knock</option>
                  <option>Love</option>
                  <option>Marriage</option>
                  <option>National</option>
                  <option>Pick-Up Line</option>
                  <option>Police</option>
                  <option>Political</option>
                  <option>Pun</option>
                  <option>Racist</option>
                  <option>Relationship</option>
                  <option>Religious</option>
                  <option>School</option>
                  <option>Sports</option>
                  <option>Word-Play</option>
                  <option>Work</option>
                  <option>Yo Momma</option>
                </select><br>
                <label>Select First Preference</label>
                <select class="form-control" id="pref2"> 
                  <option value="Select Category of Joke (Select This Option For All Jokes)">Select Category of Joke (Select This Option For All Jokes)</option>
                  <option>Business</option>
                  <option>College</option>
                  <option>Computer</option>
                  <option>Dad Jokes</option>
                  <option>Dark</option>
                  <option>Dumbass</option>
                  <option>Doctor</option>
                  <option>Entertainment</option>
                  <option>Law</option>
                  <option>Knock Knock</option>
                  <option>Love</option>
                  <option>Marriage</option>
                  <option>National</option>
                  <option>Pick-Up Line</option>
                  <option>Police</option>
                  <option>Political</option>
                  <option>Pun</option>
                  <option>Racist</option>
                  <option>Relationship</option>
                  <option>Religious</option>
                  <option>School</option>
                  <option>Sports</option>
                  <option>Word-Play</option>
                  <option>Work</option>
                  <option>Yo Momma</option>
                </select><br>
                <label>Select Third Preference</label>
                <select class="form-control" id="pref3"> 
                  <option value="Select Category of Joke (Select This Option For All Jokes)">Select Category of Joke (Select This Option For All Jokes)</option>
                  <option>Business</option>
                  <option>College</option>
                  <option>Computer</option>
                  <option>Dad Jokes</option>
                  <option>Dark</option>
                  <option>Dumbass</option>
                  <option>Doctor</option>
                  <option>Entertainment</option>
                  <option>Law</option>
                  <option>Knock Knock</option>
                  <option>Love</option>
                  <option>Marriage</option>
                  <option>National</option>
                  <option>Pick-Up Line</option>
                  <option>Police</option>
                  <option>Political</option>
                  <option>Pun</option>
                  <option>Racist</option>
                  <option>Relationship</option>
                  <option>Religious</option>
                  <option>School</option>
                  <option>Sports</option>
                  <option>Word-Play</option>
                  <option>Work</option>
                  <option>Yo Momma</option>
                </select><br>
              </div>  
              <div id="successmessage3" class="text-success text-center"></div>
              <div id="errmessage3" class="text-danger text-center"></div><br>
              <div class="modal-footer">
                <button type="submit" class="btn btn-warning">Save changes</button>
              </div>
            </form>
            <!--END Inside of Profile pic Modal-->
          </div>
        </div>
      </div>
    </div>
<!-- END OF BUTTON FUNCTIONS-->
    
    <br><br><br><br>

    <small id="emailHelp" class="form-text text-muted" style="padding-left:100px">Site by Michael Thien and Eric An</small>

    <!-- Firebase Script -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase-database.js"></script>

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyAfa0QgAgW5BfPfr2p8HakuYpyKISvoF5w",
        authDomain: "intellect-fa835.firebaseapp.com",
        databaseURL: "https://intellect-fa835.firebaseio.com",
        projectId: "intellect-fa835",
        storageBucket: "intellect-fa835.appspot.com",
        messagingSenderId: "76635538021",
        appId: "1:76635538021:web:cf2bf93090dcfae203fc8c",
        measurementId: "G-CSFLRF4KHP"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();

      //Make auth and realtime references
      var auth = firebase.auth();
      var db = firebase.database()
    </script>
    
    <!-- Run Personal Script -->
    <script type="text/javascript" src="profilepage.js"></script>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    
  </body>
</html>
